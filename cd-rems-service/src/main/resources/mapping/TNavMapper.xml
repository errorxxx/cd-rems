<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cd.rems.dao.TNavMapper">
  <resultMap id="BaseResultMap" type="com.cd.rems.entity.TNav">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="navId" jdbcType="INTEGER" property="navid" />
    <result column="cId" jdbcType="INTEGER" property="cid" />
    <result column="pId" jdbcType="INTEGER" property="pid" />
    <result column="navType" jdbcType="SMALLINT" property="navtype" />
    <result column="navTitle" jdbcType="VARCHAR" property="navtitle" />
    <result column="navUrl" jdbcType="VARCHAR" property="navurl" />
    <result column="navNum" jdbcType="INTEGER" property="navnum" />
    <result column="navLevel" jdbcType="INTEGER" property="navlevel" />
    <result column="navImg" jdbcType="VARCHAR" property="navimg" />
    <result column="isVisible" jdbcType="BIT" property="isvisible" />
    <result column="permissionTag" jdbcType="VARCHAR" property="permissiontag" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from t_nav
    where navId = #{navid,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.cd.rems.entity.TNav">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <selectKey keyProperty="navid" order="BEFORE" resultType="java.lang.Integer">
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into t_nav (navId, cId, pId, 
      navType, navTitle, navUrl, 
      navNum, navLevel, navImg, 
      isVisible, permissionTag)
    values (#{navid,jdbcType=INTEGER}, #{cid,jdbcType=INTEGER}, #{pid,jdbcType=INTEGER}, 
      #{navtype,jdbcType=SMALLINT}, #{navtitle,jdbcType=VARCHAR}, #{navurl,jdbcType=VARCHAR}, 
      #{navnum,jdbcType=INTEGER}, #{navlevel,jdbcType=INTEGER}, #{navimg,jdbcType=VARCHAR}, 
      #{isvisible,jdbcType=BIT}, #{permissiontag,jdbcType=VARCHAR})
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.cd.rems.entity.TNav">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update t_nav
    set cId = #{cid,jdbcType=INTEGER},
      pId = #{pid,jdbcType=INTEGER},
      navType = #{navtype,jdbcType=SMALLINT},
      navTitle = #{navtitle,jdbcType=VARCHAR},
      navUrl = #{navurl,jdbcType=VARCHAR},
      navNum = #{navnum,jdbcType=INTEGER},
      navLevel = #{navlevel,jdbcType=INTEGER},
      navImg = #{navimg,jdbcType=VARCHAR},
      isVisible = #{isvisible,jdbcType=BIT},
      permissionTag = #{permissiontag,jdbcType=VARCHAR}
    where navId = #{navid,jdbcType=INTEGER}
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select navId, cId, pId, navType, navTitle, navUrl, navNum, navLevel, navImg, isVisible, 
    permissionTag
    from t_nav
    where navId = #{navid,jdbcType=INTEGER}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select navId, cId, pId, navType, navTitle, navUrl, navNum, navLevel, navImg, isVisible, 
    permissionTag
    from t_nav
  </select>
  <!-- 根据导航类型获取全部可见导航菜单 -->
  <select id="getAllVisibleMenuByType" resultMap="BaseResultMap">
		select * from t_nav where navType=#{navtype} and isVisible=1 order by navNum
	</select>
</mapper>