<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cd.rems.dao.TBuildinginfoMapper">
    <resultMap id="BaseResultMap" type="com.cd.rems.entity.TBuildinginfo">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <id column="buildingId" jdbcType="INTEGER" property="buildingid"/>
        <result column="buildingName" jdbcType="VARCHAR" property="buildingname"/>
        <result column="buildingAddr" jdbcType="VARCHAR" property="buildingaddr"/>
        <result column="nowTypeId" jdbcType="INTEGER" property="nowtypeid"/>
        <result column="addTime" jdbcType="DATE" property="addtime"/>
        <result column="developer" jdbcType="VARCHAR" property="developer"/>
        <result column="propertyManager" jdbcType="VARCHAR" property="propertymanager"/>
        <result column="propertyManagerFee" jdbcType="DECIMAL" property="propertymanagerfee"/>
        <result column="buildingNumber" jdbcType="INTEGER" property="buildingnumber"/>
        <result column="averagePrice" jdbcType="DECIMAL" property="averageprice"/>
        <result column="saleDate" jdbcType="DATE" property="saledate"/>
        <result column="saleIssue" jdbcType="VARCHAR" property="saleissue"/>
        <result column="deliveredDate" jdbcType="DATE" property="delivereddate"/>
        <result column="intputer" jdbcType="VARCHAR" property="intputer"/>
        <result column="contacts" jdbcType="VARCHAR" property="contacts"/>
        <result column="contactsTel" jdbcType="VARCHAR" property="contactstel"/>
        <result column="inputDate" jdbcType="DATE" property="inputdate"/>
        <result column="totalArea" jdbcType="DECIMAL" property="totalarea"/>
        <result column="areaRate" jdbcType="DECIMAL" property="arearate"/>
        <result column="carparkNumber" jdbcType="INTEGER" property="carparknumber"/>
        <result column="carparkLayerNumber" jdbcType="INTEGER" property="carparklayernumber"/>
        <result column="carparkPrice" jdbcType="DECIMAL" property="carparkprice"/>
        <result column="NTCarparkNumber" jdbcType="INTEGER" property="ntcarparknumber"/>
        <result column="carparkRate" jdbcType="DECIMAL" property="carparkrate"/>
        <result column="upCarpark" jdbcType="INTEGER" property="upcarpark"/>
        <result column="downCarpark" jdbcType="INTEGER" property="downcarpark"/>
        <result column="carparkFee" jdbcType="DECIMAL" property="carparkfee"/>
        <result column="upMaCarpark" jdbcType="INTEGER" property="upmacarpark"/>
        <result column="downMaCarpark" jdbcType="INTEGER" property="downmacarpark"/>
        <result column="maFee" jdbcType="DECIMAL" property="mafee"/>
    </resultMap>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        delete from t_buildinginfo
        where buildingId = #{buildingid,jdbcType=INTEGER}
    </delete>
    <insert id="insert" parameterType="com.cd.rems.entity.TBuildinginfo">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <selectKey keyProperty="buildingid" order="BEFORE" resultType="java.lang.Integer">
            SELECT LAST_INSERT_ID()
        </selectKey>
        insert into t_buildinginfo (buildingId, buildingName, buildingAddr,
        nowTypeId, addTime, developer,
        propertyManager, propertyManagerFee, buildingNumber,
        averagePrice, saleDate, saleIssue,
        deliveredDate, intputer, contacts,
        contactsTel, inputDate, totalArea,
        areaRate, carparkNumber, carparkLayerNumber,
        carparkPrice, NTCarparkNumber, carparkRate,
        upCarpark, downCarpark, carparkFee,
        upMaCarpark, downMaCarpark, maFee
        )
        values (#{buildingid,jdbcType=INTEGER}, #{buildingname,jdbcType=VARCHAR}, #{buildingaddr,jdbcType=VARCHAR},
        #{nowtypeid,jdbcType=INTEGER}, #{addtime,jdbcType=DATE}, #{developer,jdbcType=VARCHAR},
        #{propertymanager,jdbcType=VARCHAR}, #{propertymanagerfee,jdbcType=DECIMAL}, #{buildingnumber,jdbcType=INTEGER},
        #{averageprice,jdbcType=DECIMAL}, #{saledate,jdbcType=DATE}, #{saleissue,jdbcType=VARCHAR},
        #{delivereddate,jdbcType=DATE}, #{intputer,jdbcType=VARCHAR}, #{contacts,jdbcType=VARCHAR},
        #{contactstel,jdbcType=VARCHAR}, #{inputdate,jdbcType=DATE}, #{totalarea,jdbcType=DECIMAL},
        #{arearate,jdbcType=DECIMAL}, #{carparknumber,jdbcType=INTEGER}, #{carparklayernumber,jdbcType=INTEGER},
        #{carparkprice,jdbcType=DECIMAL}, #{ntcarparknumber,jdbcType=INTEGER}, #{carparkrate,jdbcType=DECIMAL},
        #{upcarpark,jdbcType=INTEGER}, #{downcarpark,jdbcType=INTEGER}, #{carparkfee,jdbcType=DECIMAL},
        #{upmacarpark,jdbcType=INTEGER}, #{downmacarpark,jdbcType=INTEGER}, #{mafee,jdbcType=DECIMAL}
        )
    </insert>
    <update id="updateByPrimaryKey" parameterType="com.cd.rems.entity.TBuildinginfo">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update t_buildinginfo
        set buildingName = #{buildingname,jdbcType=VARCHAR},
        buildingAddr = #{buildingaddr,jdbcType=VARCHAR},
        nowTypeId = #{nowtypeid,jdbcType=INTEGER},
        addTime = #{addtime,jdbcType=DATE},
        developer = #{developer,jdbcType=VARCHAR},
        propertyManager = #{propertymanager,jdbcType=VARCHAR},
        propertyManagerFee = #{propertymanagerfee,jdbcType=DECIMAL},
        buildingNumber = #{buildingnumber,jdbcType=INTEGER},
        averagePrice = #{averageprice,jdbcType=DECIMAL},
        saleDate = #{saledate,jdbcType=DATE},
        saleIssue = #{saleissue,jdbcType=VARCHAR},
        deliveredDate = #{delivereddate,jdbcType=DATE},
        intputer = #{intputer,jdbcType=VARCHAR},
        contacts = #{contacts,jdbcType=VARCHAR},
        contactsTel = #{contactstel,jdbcType=VARCHAR},
        inputDate = #{inputdate,jdbcType=DATE},
        totalArea = #{totalarea,jdbcType=DECIMAL},
        areaRate = #{arearate,jdbcType=DECIMAL},
        carparkNumber = #{carparknumber,jdbcType=INTEGER},
        carparkLayerNumber = #{carparklayernumber,jdbcType=INTEGER},
        carparkPrice = #{carparkprice,jdbcType=DECIMAL},
        NTCarparkNumber = #{ntcarparknumber,jdbcType=INTEGER},
        carparkRate = #{carparkrate,jdbcType=DECIMAL},
        upCarpark = #{upcarpark,jdbcType=INTEGER},
        downCarpark = #{downcarpark,jdbcType=INTEGER},
        carparkFee = #{carparkfee,jdbcType=DECIMAL},
        upMaCarpark = #{upmacarpark,jdbcType=INTEGER},
        downMaCarpark = #{downmacarpark,jdbcType=INTEGER},
        maFee = #{mafee,jdbcType=DECIMAL}
        where buildingId = #{buildingid,jdbcType=INTEGER}
    </update>
    <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select buildingId, buildingName, buildingAddr, nowTypeId, addTime, developer, propertyManager,
        propertyManagerFee, buildingNumber, averagePrice, saleDate, saleIssue, deliveredDate,
        intputer, contacts, contactsTel, inputDate, totalArea, areaRate, carparkNumber, carparkLayerNumber,
        carparkPrice, NTCarparkNumber, carparkRate, upCarpark, downCarpark, carparkFee, upMaCarpark,
        downMaCarpark, maFee
        from t_buildinginfo
        where buildingId = #{buildingid,jdbcType=INTEGER}
    </select>
    <select id="selectAll" resultMap="BaseResultMap">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select buildingId, buildingName, buildingAddr, nowTypeId, addTime, developer, propertyManager,
        propertyManagerFee, buildingNumber, averagePrice, saleDate, saleIssue, deliveredDate,
        intputer, contacts, contactsTel, inputDate, totalArea, areaRate, carparkNumber, carparkLayerNumber,
        carparkPrice, NTCarparkNumber, carparkRate, upCarpark, downCarpark, carparkFee, upMaCarpark,
        downMaCarpark, maFee
        from t_buildinginfo t
        <trim prefix="where" prefixOverrides="AND">
            <if test="info.name != null and info.name != ''">
                AND t.buildingName like concat(concat('%',#{info.name}),'%')
            </if>
            <if test="info.address != null and info.address != ''">
                AND t.buildingAddr like concat(concat('%',#{info.address}),'%')
            </if>
            <if test="info.nowTypeId != null and info.nowTypeId != ''">
                AND t.nowTypeId = #{info.nowTypeId}
            </if>
            <if test="info.startTime != null and info.startTime != ''">
                AND t.addTime &gt;= DATE(#{info.startTime})
            </if>
            <if test="info.endTime != null and info.endTime != ''">
                and  t.addTime &lt;= DATE(#{info.endTime})
            </if>
        </trim>
    </select>

    <select id="selectByPage" resultMap="BaseResultMap" parameterType="com.cd.rems.model.BuildingInfoVo">
        select buildingId, buildingName, buildingAddr, nowTypeId, addTime, developer, propertyManager,
        propertyManagerFee, buildingNumber, averagePrice, saleDate, saleIssue, deliveredDate,
        intputer, contacts, contactsTel, inputDate, totalArea, areaRate, carparkNumber, carparkLayerNumber,
        carparkPrice, NTCarparkNumber, carparkRate, upCarpark, downCarpark, carparkFee, upMaCarpark,
        downMaCarpark, maFee
        from t_buildinginfo t
        <trim prefix="where" prefixOverrides="AND">
            <if test="info.name != null and info.name != ''">
                AND t.buildingName like concat(concat('%',#{info.name}),'%')
            </if>
            <if test="info.address != null and info.address != ''">
                AND t.buildingAddr like concat(concat('%',#{info.address}),'%')
            </if>
            <if test="info.nowTypeId != null and info.nowTypeId != ''">
                AND t.nowTypeId = #{info.nowTypeId}
            </if>
            <if test="info.startTime != null and info.startTime != ''">
                AND t.addTime &gt;= DATE(#{info.startTime})
            </if>
            <if test="info.endTime != null and info.endTime != ''">
                and  t.addTime &lt;= DATE(#{info.endTime})
            </if>
        </trim>
        LIMIT #{info.currentSize},#{info.pageSize}
    </select>
</mapper>