<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <!-- import CSS -->
    <link rel="stylesheet" href="./css/index.css">
</head>
<body>
<div id="app">
    <el-table
            ref="singleTable"
            :data="tableData"
            highlight-current-row
            style="width: 100%">
        <el-table-column
                type="index"
                width="50">
        </el-table-column>
        <el-table-column
                property="rolename"
                label="角色名称"
                width="120">
        </el-table-column>
        <el-table-column
                property="roledescrib"
                label="角色描述"
                width="120">
        </el-table-column>
        <el-table-column
                property="addeddate"
                label="添加时间">
        </el-table-column>
        <el-table-column
                label="操作">
            <el-button type="text">编辑</el-button>
            <el-button type="text">权限</el-button>
            <el-button type="text">删除</el-button>
        </el-table-column>
    </el-table>
</div>
</body>
<!-- import Vue before Element -->
<script src="./vue/vue.js"></script>
<script src="./vue/vue-resource.js"></script>
<!-- import JavaScript -->
<script src="./vue/index.js"></script>
<script src="./js/util.js"></script>
<script>
    var Vue = new Vue({
        el: '#app',
        data: {
            tableData: []
        },
        mounted: function () {
            Vue.nextTick(function () {
                Vue.getResource();
            })
        },
        methods: {
            getResource() {
                Vue.$resource(contextPath + '/user/getAllRoles').query().then(function (response) {
                    Vue.tableData = response.data;
                }).catch(function () {
                    Vue.showMsgError("角色查询错误");
                });
            }
        }
    })
</script>
</html>